USE [master]
GO
/****** Object:  Database [Login_A]    Script Date: 28.11.2022 11:17:07 ******/
CREATE DATABASE [Login_A]
GO
ALTER DATABASE [Login_A] SET COMPATIBILITY_LEVEL = 130
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [Login_A].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [Login_A] SET ANSI_NULL_DEFAULT ON 
GO
ALTER DATABASE [Login_A] SET ANSI_NULLS ON 
GO
ALTER DATABASE [Login_A] SET ANSI_PADDING ON 
GO
ALTER DATABASE [Login_A] SET ANSI_WARNINGS ON 
GO
ALTER DATABASE [Login_A] SET ARITHABORT ON 
GO
ALTER DATABASE [Login_A] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [Login_A] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [Login_A] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [Login_A] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [Login_A] SET CURSOR_DEFAULT  LOCAL 
GO
ALTER DATABASE [Login_A] SET CONCAT_NULL_YIELDS_NULL ON 
GO
ALTER DATABASE [Login_A] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [Login_A] SET QUOTED_IDENTIFIER ON 
GO
ALTER DATABASE [Login_A] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [Login_A] SET  DISABLE_BROKER 
GO
ALTER DATABASE [Login_A] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [Login_A] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [Login_A] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [Login_A] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [Login_A] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [Login_A] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [Login_A] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [Login_A] SET RECOVERY FULL 
GO
ALTER DATABASE [Login_A] SET  MULTI_USER 
GO
ALTER DATABASE [Login_A] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [Login_A] SET DB_CHAINING OFF 
GO
ALTER DATABASE [Login_A] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [Login_A] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [Login_A] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [Login_A] SET QUERY_STORE = OFF
GO
USE [Login_A]
GO
ALTER DATABASE SCOPED CONFIGURATION SET LEGACY_CARDINALITY_ESTIMATION = OFF;
GO
ALTER DATABASE SCOPED CONFIGURATION SET MAXDOP = 0;
GO
ALTER DATABASE SCOPED CONFIGURATION SET PARAMETER_SNIFFING = ON;
GO
ALTER DATABASE SCOPED CONFIGURATION SET QUERY_OPTIMIZER_HOTFIXES = OFF;
GO
USE [Login_A]
GO
/****** Object:  Table [dbo].[Roles]    Script Date: 28.11.2022 11:17:07 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Roles](
	[IdRoles] [int] IDENTITY(1,1) NOT NULL,
	[Name] [nvarchar](50) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[IdRoles] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[UserRoles]    Script Date: 28.11.2022 11:17:07 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[UserRoles](
	[IdUserRoles] [int] IDENTITY(1,1) NOT NULL,
	[IdUsers] [int] NOT NULL,
	[IdRoles] [int] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[IdUserRoles] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Users]    Script Date: 28.11.2022 11:17:07 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Users](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[Name] [varchar](50) NOT NULL,
	[PasswordHash] [varbinary](max) NULL,
	[PasswordSalt] [varbinary](max) NULL,
PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[Roles] ON 
GO
INSERT [dbo].[Roles] ([IdRoles], [Name]) VALUES (1, N'admin')
GO
INSERT [dbo].[Roles] ([IdRoles], [Name]) VALUES (4, N'guest')
GO
INSERT [dbo].[Roles] ([IdRoles], [Name]) VALUES (3, N'poweruser')
GO
INSERT [dbo].[Roles] ([IdRoles], [Name]) VALUES (5, N'sa')
GO
INSERT [dbo].[Roles] ([IdRoles], [Name]) VALUES (2, N'user')
GO
SET IDENTITY_INSERT [dbo].[Roles] OFF
GO
SET IDENTITY_INSERT [dbo].[UserRoles] ON 
GO
INSERT [dbo].[UserRoles] ([IdUserRoles], [IdUsers], [IdRoles]) VALUES (1, 1, 5)
GO
SET IDENTITY_INSERT [dbo].[UserRoles] OFF
GO
SET IDENTITY_INSERT [dbo].[Users] ON 
GO
INSERT [dbo].[Users] ([Id], [Name], [PasswordHash], [PasswordSalt]) VALUES (1, N'admin', 0x37880F1CF5ADEE569BA4385A2D22FA25F6C861604E3099B8077C1027669C19931B92CA90BEA9F623A8CE329BEB3FED29C478D6DAFE3578C797CBA785413485FC, 0x3A3A9E5FB1612D9FBB06C4AFC9986A45A6AB8CB94FEFA71D73039EE3F528F8B326571C92EF6D76FD4D2529DE12CB43B426EA88957D13B6B8716A9A3CD25FCDC62A007A011802CA07C09FDA511D5667AA9AF425A8C55EC9FEF469103BD825DD9B63274352F4F3B46934F3B036DFCA5224D5A364FEE2337569A4682AC7795B716E)
GO
INSERT [dbo].[Users] ([Id], [Name], [PasswordHash], [PasswordSalt]) VALUES (4, N'agent', 0x3DF97EE38769633E3FE10AD9CB3F0843033726006AEDA26546E0FB4266F7517C79F0BD35D76AF2FB2F60A8D3F50385B88A59FDF1C7B5822604BA28BC5E1A2F04, 0xAB027CDAE03B148E4450FF651CD2171497738D9E0B775AF3CB3D919B763178BDF9CFC3AD66A613A0846815063CA2CD231B4C5F7423B5C76AF1AE842C744F60C73C0D4FC10FA798AE380E9716F874DB87E951AD0D67964B7FBFE63E469A066DFFD4AFBEF4998A97BDCBB2D6A9640995C846A57CB24E9BACA30F3ABDF3A9B49F46)
GO
INSERT [dbo].[Users] ([Id], [Name], [PasswordHash], [PasswordSalt]) VALUES (1002, N'user', 0xE12FAF7F2335E3B93262B4CAC7D50216EC9E295DF49AFD0CCD2EDB3F5BA374ACB5A634094BDC351B812A9A13CCA222F8068F87C5579FAFFB63BA2C34C0B12935, 0xABA7E7DC319B458A2795C33CC88D7B6D85BBED596355EE1D11BB303722734DF1216C0BD7E7DF3E8ED244412155EAAAA53EC5CAE13BEFCD4A1F586C1CAD7D9CAE724C97A367E03F18CE45DFD7787E3B4E450B24BEE0F4E50EFAC2BEA2FC67E503DF4ED8D2F407A50BC74C2C4397174812FB8FE1AE72F4D03E465C7520B91A16AF)
GO
SET IDENTITY_INSERT [dbo].[Users] OFF
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UQ__Roles__737584F623FB0411]    Script Date: 28.11.2022 11:17:07 ******/
ALTER TABLE [dbo].[Roles] ADD UNIQUE NONCLUSTERED 
(
	[Name] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UQ__Users__737584F6ACE46333]    Script Date: 28.11.2022 11:17:07 ******/
ALTER TABLE [dbo].[Users] ADD UNIQUE NONCLUSTERED 
(
	[Name] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[UserRoles]  WITH CHECK ADD  CONSTRAINT [FK_UserRoles_Roles] FOREIGN KEY([IdRoles])
REFERENCES [dbo].[Roles] ([IdRoles])
GO
ALTER TABLE [dbo].[UserRoles] CHECK CONSTRAINT [FK_UserRoles_Roles]
GO
ALTER TABLE [dbo].[UserRoles]  WITH CHECK ADD  CONSTRAINT [FK_UserRoles_Users] FOREIGN KEY([IdUsers])
REFERENCES [dbo].[Users] ([Id])
GO
ALTER TABLE [dbo].[UserRoles] CHECK CONSTRAINT [FK_UserRoles_Users]
GO
USE [master]
GO
ALTER DATABASE [Login_A] SET  READ_WRITE 
GO
